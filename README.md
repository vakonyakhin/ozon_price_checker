# !!!–í–Ω–∏–º–∞–Ω–∏–µ. –ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Gemini 3 –≤ –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

# Ozon & Wildberries Price Checker Bot



Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ü–µ–Ω –Ω–∞ —Ç–æ–≤–∞—Ä—ã —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ Ozon –∏ Wildberries. –ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã, –∑–∞–¥–∞–≤–∞—Ç—å —Ü–µ–ª–µ–≤—É—é —Ü–µ–Ω—É –∏ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –µ—ë —Å–Ω–∏–∂–µ–Ω–∏–∏.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–ª–æ—â–∞–¥–æ–∫**: Ozon.ru –∏ Wildberries.ru.
*   **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω**: –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.
*   **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –û–ø–æ–≤–µ—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ —Ü–µ–Ω–∞ –æ–ø—É—Å—Ç–∏–ª–∞—Å—å –¥–æ –∏–ª–∏ –Ω–∏–∂–µ —Ü–µ–ª–µ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º**: –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏ (`/list`) –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ (`/stop_tracking`).
*   **–ü–∞—Ä—Å–∏–Ω–≥**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Selenium –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (SPA) –∏ –æ–±—Ö–æ–¥–∞ –±–∞–∑–æ–≤—ã—Ö –∑–∞—â–∏—Ç.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

*   **Python 3.8+**
*   **Aiogram 3.x**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API.
*   **Selenium**: –î–ª—è —ç–º—É–ª—è—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ü–µ–Ω.
*   **SQLite**: –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å—Å—ã–ª–æ–∫.
*   **Asyncio**: –î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1.  –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Python –≤–µ—Ä—Å–∏–∏ 3.8 –∏–ª–∏ –≤—ã—à–µ.
2.  –ë—Ä–∞—É–∑–µ—Ä Google Chrome (–Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã –¥—Ä–∞–π–≤–µ—Ä–∞ Selenium).

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <—Å—Å—ã–ª–∫–∞-–Ω–∞-–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
    cd ozon_price_checker
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv venv
    # –î–ª—è Linux/macOS:
    source venv/bin/activate
    # –î–ª—è Windows:
    venv\Scripts\activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install aiogram selenium selenium-stealth webdriver-manager beautifulsoup4 tabulate
    ```

4.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
    –í —Ñ–∞–π–ª–µ `config/settings.py` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –∏—Ö –≤ —Å–∏—Å—Ç–µ–º–µ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env`.
    *   `TELEGRAM_BOT_TOKEN`: –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather).
    *   `PRICE_CHECK_INTERVAL`: –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–Ω –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 600).

5.  **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:**
    ```bash
    python main.py
    ```

### üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `Dockerfile`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Python, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –±—Ä–∞—É–∑–µ—Ä Google Chrome.

1.  **–°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:**
    ```bash
    docker build -t ozon-price-checker .
    ```

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞.
    ```bash
    docker run -d --name ozon-bot --env-file .env --restart always ozon-price-checker
    ```

## ü§ñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  **–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`.
2.  **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞**:
    *   –ü—Ä–æ—Å—Ç–æ —Å—Å—ã–ª–∫–∞: `https://ozon.ru/t/example` (–±–æ—Ç –±—É–¥–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ü–µ–Ω—ã).
    *   –°—Å—ã–ª–∫–∞ —Å —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω–æ–π: `https://ozon.ru/t/example 1000` (–±–æ—Ç —É–≤–µ–¥–æ–º–∏—Ç, –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ —Å—Ç–∞–Ω–µ—Ç <= 1000 ‚ÇΩ).
3.  **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞**: –ö–æ–º–∞–Ω–¥–∞ `/list` –ø–æ–∫–∞–∂–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å –≤–∞—à–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –∏—Ö —Ç–µ–∫—É—â–∏–º–∏ —Ü–µ–Ω–∞–º–∏.
4.  **–£–¥–∞–ª–µ–Ω–∏–µ**: –ö–æ–º–∞–Ω–¥–∞ `/stop_tracking` –≤—ã–∑–æ–≤–µ—Ç –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   **`main.py`**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–æ—Ç–∞, –ë–î –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.
*   **`bot/`**: –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (`handlers.py`).
*   **`parser/`**: –ú–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ (`price_parser.py`) –Ω–∞ –±–∞–∑–µ Selenium.
*   **`scheduler/`**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω.
*   **`storage/`**: –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (SQLite).
*   **`config/`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.